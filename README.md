### 1、简介

msc 是一款前端监控工具，主要包含下面几个方面信息监控：

- 1）前端异常监控；
- 2）页面性能监控；
- 3）设备信息采集；

### 2、异常捕获详情

- 1）js 错误信息监控；
- 2）支持 vue 错误信息监控（需要将 vue 传入，并设置 vueError:true）；
- 3）支持 promise 中未捕获异常信息的抓取；
- 4）支持 ajax 库（xhr）异常信息捕获；
- 5）支持 console.error 错误信息捕获;
- 6）支持资源错误信息捕获。

### 3、页面性能监控

- 1）重定向的时间；
- 2）DNS 查询时间；
- 3）DNS 缓存时间；
- 4）卸载页面的时间；
- 5）tcp 连接耗时；
- 6）内容加载完成的时间；
- 7）解析 dom 树耗时；
- 8）白屏时间；
- 9）页面加载完成的时间；
- ...


现在 chrome 开发团队提供了 web-vitals(https://www.npmjs.com/package/web-vitals) 库，方便来计算各性能数据（注意：web-vitals 不支持safari浏览器）


### 4、设备信息采集

- 1）设备类型；
- 2）操作系统；
- 3）操作系统版本；
- 4）屏幕高、屏幕宽；
- 5）当前使用的语言-国家；
- 6）联网类型；
- 7）横竖屏；
- 8）浏览器信息；
- 9）浏览器指纹；
- 10）userAgent；
- ...

性能分析参考[https://juejin.cn/post/7010647775880708133]

### 性能分析

真实用户性能指标也就是上文有所提及的 RUM 以及平台自己扩展的一些额外的指标，包括以下指标：

首次绘制时间（ FP ） ：即 First Paint，为首次渲染的时间点。

首次内容绘制时间（ FCP ） ：即 First Contentful Paint，为首次有内容渲染的时间点。

首次有效绘制时间（ FMP ） ：用户启动页面加载与页面呈现首屏之间的时间。

首次交互时间（ FID ） ：即 First Input Delay，记录页面加载阶段，用户首次交互操作的延时时间。FID 指标影响用户对页面交互性和响应性的第一印象。

交互中最大延时（ MPFID ） ：页面加载阶段，用户交互操作可能遇到的最大延时时间。

完全可交互时间（TTI）：即 Time to interactive，记录从页面加载开始，到页面处于完全可交互状态所花费的时间。

首次加载 跳出率：第一个页面完全加载前用户跳出率。

慢开比：完全加载耗时超过 5s 的 PV 占比。
